(this.webpackJsonpsnaptrude=this.webpackJsonpsnaptrude||[]).push([[0],{193:function(e,t,n){},196:function(e,t,n){},198:function(e,t,n){},416:function(e,t,n){},417:function(e,t,n){},418:function(e,t,n){},419:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n.n(a),o=n(83),r=n.n(o),s=(n(193),n(15)),i=(n(194),n(26)),u=n(187),l=n(188),d=n(9),p=function(e){var t=Object(a.useRef)(null),n=e.antialias,c=e.engineOptions,o=e.adaptToDeviceRatio,r=e.sceneOptions,s=e.onRender,p=e.onSceneReady,g=Object(l.a)(e,["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onRender","onSceneReady"]);return Object(a.useEffect)((function(){if(t.current){var a=new i.c(t.current,n,c,o),u=new i.g(a,r);u.isReady()?p(u,e.captureMap,e.onClickRightDialogue,e.setSuggestion,e.setText,e.inputTextValue,e.setInputTextValue):u.onReadyObservable.addOnce((function(t){return p(t,e.captureMap,e.onClickRightDialogue,e.setSuggestion,e.setText,e.inputTextValue,e.setInputTextValue)})),a.runRenderLoop((function(){"function"===typeof s&&s(u),u.render()}));var l=function(){u.getEngine().resize()};return window&&window.addEventListener("resize",l),function(){u.getEngine().dispose(),window&&window.removeEventListener("resize",l)}}}),[t,e.captureMap,e.inputTextValue.show]),Object(d.jsx)("canvas",Object(u.a)({ref:t},g))},g=n.p+"static/media/venueManager.9d5088c3.png",j=(n(196),n(61)),b=function(e,t,n,a,c,o,r){var s=new i.a("camera1",-Math.PI/2,Math.PI/2,4,new i.j.Zero(1,1,0),e),u=e.getEngine().getRenderingCanvas();e.clearColor=new i.b(.8,.8,.8);var l=new i.e.CreateBox("box",{height:1,width:1,depth:.25});e.onPointerObservable.add((function(e){switch(e.type){case i.f.POINTERDOWN:n("")}})),s.attachControl(u,!0),new i.d("light",new i.j(1,-1,-2),e).intensity=1,console.log("scene consoele",o);var d=new i.h("materialImg",e);d.diffuseTexture=new i.i(t,e);o.text.length>0&&o.show&&(!function(e){var t=l.clone("outerBox");t.material=d;var n=new j.AdvancedDynamicTexture.CreateForMesh(t),a=new j.TextBlock;a.width="400px",a.height="100px",a.color="white",a.background="grey",a.fontSize="80px",a.top="".concat(45,"%"),a.left="".concat(40,"%"),a.text=e,console.log(a),n.addControl(a),a.linkWithMesh(t)}(o.text),a({show:!1})),l.clone("innerBox").material=d;u.addEventListener("dblclick",(function(){var t,n=e.pick(e.pointerX,e.pointerY,(function(e){return e===l}));n.hit&&(t=n.pickedMesh),t&&(!function(e){var t=new j.AdvancedDynamicTexture.CreateForMesh(l),n=new j.InputText;n.width="400px",n.height="100px",n.color="white",n.background="grey",n.fontSize="80px",n.top="".concat(45,"%"),n.left="".concat(40,"%"),n.onTextChangedObservable.add((function(e){n.text.length>0?(c(n.text),a({show:!0,top:"50vh",left:"50vw"})):(c(""),a({show:!1}))})),n.onTextPasteObservable.add((function(){o.length>0&&(n.text=o)})),console.log(n),t.addControl(n),n.linkWithMesh(l)}(),r({show:!1,text:""}))}))},h=function(e){},f=function(e){return Object(d.jsx)(p,{antialias:!0,onSceneReady:b,setCaptureMap:e.setCaptureMap,captureMap:e.captureMap,onClickRightDialogue:e.onClickRightDialogue,setText:e.setText,inputTextValue:e.inputTextValue,setInputTextValue:e.setInputTextValue,onRender:h,setSuggestion:e.setSuggestion,id:"my-canvas"})},x=(n(198),n(179)),m=n.n(x).a.create({baseURL:"https://google-map-img-be.herokuapp.com/"}),O=function(e){return m.get("/v1/getUser?username=".concat(e.username,"&&password=").concat(e.password)).then((function(e){return console.log("product list api",e),e})).catch((function(e){return console.error("create product error",e)}))},v=function(e,t){return m.post("/v1/editPhotos?username=".concat(e),t).then((function(e){return console.log("on edit click api",e),e})).catch((function(e){return console.error("create product error",e),e}))},w=n(180),k=n(181),S=n(186),C=n(185),M=n(182),y=n.n(M),R=n(62),T=(n(416),function(e){Object(S.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={marker_lat:13.0827,marker_lng:80.2376,img:""},e.onMarkerDragEnd=function(t){var n=t.latLng.lat(),a=t.latLng.lng();e.setState({marker_lat:n,marker_lng:a})},e.captureMapOnClick=function(){y()(document.querySelector("#map-container"),{logging:!0,letterRendering:1,allowTaint:!1,useCORS:!0}).then((function(t){e.props.setCaptureMap(t.toDataURL("image/webp"))}))},e.saveImage=function(t){var n=e.props.loggedInUser.username,a={text:"edit",img:e.props.captureMap};console.log("saveimage clicked"),v(n,a).then((function(t){return e.setState({img:t.data.res.img},(function(){return e.props.setImageUpdated(!e.props.imageUpdated)}))}))},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=Object(R.withScriptjs)(Object(R.withGoogleMap)((function(t){return Object(d.jsx)(R.GoogleMap,{defaultZoom:8,defaultCenter:{lat:e.state.marker_lat,lng:e.state.marker_lng},children:Object(d.jsx)(R.Marker,{draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.marker_lat,lng:e.state.marker_lng}})})})));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{id:"map-container",children:Object(d.jsx)(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAMG_RDX0SnmkWUy7vBSMURe7n15q0q6aA&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(d.jsx)("div",{style:{height:"100%",width:"100%"}}),containerElement:Object(d.jsx)("div",{style:{height:"300px",minWidth:"400px",borderRadius:"8px"}}),mapElement:Object(d.jsx)("div",{style:{height:"100%",width:"100%",borderRadius:"8px"}})})}),Object(d.jsxs)("div",{className:"map_buttons",children:[Object(d.jsx)("button",{className:"capture_button",onClick:function(){return e.captureMapOnClick()},children:"Capture"}),Object(d.jsx)("button",{className:"save_button",onClick:function(){return e.saveImage()},children:"Save Image"})]})]})}}]),n}(a.Component)),_=(n(417),n(418),function(){return Object(d.jsxs)("nav",{children:[Object(d.jsx)("span",{className:"logo",children:"snaptrude"}),Object(d.jsx)("button",{onClick:function(){window.location.reload()},children:"Sign Out"})]})}),E=(n(116),function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!0),r=Object(s.a)(o,2),i=r[0],u=(r[1],Object(a.useState)()),l=Object(s.a)(u,2),p=l[0],j=l[1],b=Object(a.useState)({}),h=Object(s.a)(b,2),x=h[0],m=(h[1],Object(a.useState)(!0)),v=Object(s.a)(m,2),w=v[0],k=v[1],S=Object(a.useState)(g),C=Object(s.a)(S,2),M=C[0],y=C[1],R=Object(a.useState)(0),E=Object(s.a)(R,2),I=E[0],D=E[1],N=Object(a.useState)(""),L=Object(s.a)(N,2),U=L[0],V=L[1],F=Object(a.useState)({show:!1,text:""}),B=Object(s.a)(F,2),P=B[0],A=B[1],z=Object(a.useState)({show:!1,top:0,left:0}),W=Object(s.a)(z,2),q=W[0],G=W[1],J=Object(a.useState)(""),X=Object(s.a)(J,2),Z=X[0],Y=X[1],H=Object(a.useRef)(null),K=["searching","text","copy","paste","image","pixel","working"],Q=function(e){null===H.current||H.current.contains(e.target)||(Y(""),V(""))};Object(a.useEffect)((function(){return document.addEventListener("mousedown",Q),function(){return document.removeEventListener("mousedown",Q)}})),Object(a.useEffect)((function(){console.log("suggestion",q)}),[q]),Object(a.useEffect)((function(){console.log("number of boxes",I)}),[I]),Object(a.useEffect)((function(){console.log("input t ext value",P)}),[P]),Object(a.useEffect)((function(){if(!i){var e={username:x.username,password:x.password};O(e).then((function(e){console.log("user data",e),c(e.data.result.username),j(e.data.result.img)}))}}),[w,i]);var $=function(e){Y(e)},ee=K.filter((function(e){return e.includes(U)}));return Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{}),Object(d.jsx)("div",{className:"base_wrapper",children:Object(d.jsxs)("div",{className:"scene",children:[Object(d.jsxs)("div",{className:"right_controls",children:[Object(d.jsx)("span",{style:{border:"map"===Z?"1px solid black":"1px solid transparent"},onClick:function(){return $("map")},children:"Map"}),Object(d.jsx)("span",{style:{border:"account"===Z?"1px solid black":"1px solid transparent"},onClick:function(){return $("account")},children:"Acc."})]}),"map"===Z&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"map_dialogue_box",ref:H,children:Object(d.jsx)("div",{children:Object(d.jsx)(T,{loggedInUser:x,setCaptureMap:y,captureMap:M,setImageUpdated:k,imageUpdated:w})})})}),"account"===Z&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"map_dialogue_box",ref:H,children:Object(d.jsxs)("div",{className:"details_container",children:[Object(d.jsxs)("span",{children:["User: ",Object(d.jsx)("span",{children:n})," "]}),Object(d.jsxs)("span",{className:"details_contianer_img",children:[" ","Saved image:"," ",Object(d.jsx)("img",{src:p,alt:"user_map_image",style:{width:"100px",height:"100px"}})]}),Object(d.jsxs)("span",{children:["No of boxes : ",I]})]})})}),Object(d.jsxs)("div",{className:"scene_wrapper",children:[q.show&&ee.length>0&&Object(d.jsx)("span",{style:{display:"flex",flexDirection:"column",position:"absolute",top:q.top,left:q.left,background:"#ffffff",width:200,padding:"10px",borderRadius:10,boxShadow:"0 3px 10px rgba(0,0,0,0.2)",height:150,overflow:"scroll"},children:ee.map((function(e){return Object(d.jsx)("span",{onClick:function(){A({text:e,show:!0})},style:{background:"#f3f3f3",margin:"10px 0",cursor:"pointer"},children:e})}))}),Object(d.jsx)(f,{captureMap:M,words:K,setSuggestion:G,setCaptureMap:y,setNoOfBoxes:D,inputTextValue:P,setInputTextValue:A,setText:V,noOfBoxes:I,onClickRightDialogue:$})]})]})})]})})}),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,420)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),I()}},[[419,1,2]]]);
//# sourceMappingURL=main.465aed6a.chunk.js.map